!function(e){"use strict";window.houzezOpenStreetMapElementor=function(t,o,n){if(void 0!==o&&0<o.length){var i,r,l=new Array,a=(new Array,0),c=n.mapbox_api_key,s=n.zoomControl,m=n.infoWindowPlac,p=(n.clusterIcon,n.clusterer_zoom,function(e){return"yes"==e}),u=p(n.mapCluster);if(""!=c)var g=L.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token="+c,{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18,id:"mapbox.streets",accessToken:"your.mapbox.access.token"});else g=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'});e("#houzez-gmap-next").on("click",function(){!function(e){for(++a>l.length&&(a=1);!1===l[a-1].visible;)++a>l.length&&(a=1);e.getZoom()<15&&e.setZoom(15),e.setView(l[a-1].getLatLng()),l[a-1]._icon||l[a-1].__parent.spiderfy(),e.setZoom(20),a-1==0||a-1==l.length?setTimeout(function(){l[a-1].fire("click")},500):l[a-1].fire("click")}(i)}),e("#houzez-gmap-prev").on("click",function(){!function(e){for(--a<1&&(a=l.length);!1===l[a-1].visible;)--a>l.length&&(a=1);e.getZoom()<15&&e.setZoom(15),e.setView(l[a-1].getLatLng()),l[a-1]._icon||l[a-1].__parent.spiderfy(),e.setZoom(20),a-1==0||a==l.length?setTimeout(function(){l[a-1].fire("click")},500):l[a-1].fire("click")}(i)});var d=function(e){for(var t=[],o=0;o<e.length;o++)e[o].lat&&e[o].lng&&t.push([e[o].lat,e[o].lng]);return t};if(o.length>0){var f=d(o),h=L.latLng(25.68654,-80.431345);1==f.length&&(h=L.latLng(f[0]));n={dragging:!0,center:h,zoomControl:p(s),zoom:10,tap:!0};(i=L.map(document.getElementById(t),n)).scrollWheelZoom.disable(),1<f.length&&i.fitBounds(f),i.addLayer(g),document.getElementById("listing-mapzoomin")&&(v=i,e("#listing-mapzoomin").on("click",function(){var e=parseInt(v.getZoom(),10);console.log(e),++e>20&&(e=20),console.log("=="+e+" ++ "),v.setZoom(e)})),document.getElementById("listing-mapzoomout")&&function(t){e("#listing-mapzoomout").on("click",function(){var e=parseInt(t.getZoom(),10);console.log(e),--e<0&&(e=0),console.log("=="+e+" -- "),t.setZoom(e)})}(i),function(e,t){var o,n=d(e);1<n.length&&t.fitBounds(n),u&&(r=new L.MarkerClusterGroup({iconCreateFunction:function(e){var t='<div class="houzez-osm-cluster">'+e.getAllChildMarkers().length+"</div>";return L.divIcon({html:t,className:"mycluster",iconSize:L.point(47,47)})},spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0}));for(var i=0;i<e.length;i++)if(e[i].lat&&e[i].lng){var a=e[i],c=L.latLng(a.lat,a.lng),s={riseOnHover:!0};if(a.title&&(s.title=a.title),a.marker){var p={iconUrl:a.marker,iconSize:[44,56],iconAnchor:[20,57],popupAnchor:[1,-57]};a.retinaMarker&&(p.iconRetinaUrl=a.retinaMarker),s.icon=L.icon(p)}o=1==u?new L.Marker(c,s):L.marker(c,s).addTo(t),1==u&&r.addLayer(o);var g=document.createElement("div");g.className="map-info-window";var f="";f+='<div class="item-wrap">',f+='<div class="item-header">',e[i].thumbnail?f+='<a href="'+e[i].url+'"><img class="img-fluid" src="'+e[i].thumbnail+'" alt="'+e[i].title+'"/></a>':f+='<a href="'+e[i].url+'"><img class="img-fluid" src="'+m+'" alt="'+e[i].title+'"/></a>',f+="</div>",f+='<div class="item-body flex-grow-1">',f+='<h2 class="item-title">',f+='<a href="'+e[i].url+'">'+e[i].title+"</a>",f+="</h2>",f+='<ul class="list-unstyled item-info">',e[i].price&&(f+='<li class="item-price">'+e[i].price+"</li>"),e[i].property_type&&(f+='<li class="item-type">'+e[i].property_type+"</li>"),f+="</ul>",f+="</div>",f+="</div>",g.innerHTML=f,l.push(o),o.bindPopup(g)}1==u&&t.addLayer(r)}(o,i)}else{(i=L.map(document.getElementById(t),{center:[25.68654,-80.431345],zoom:10})).addLayer(g),i.scrollWheelZoom.disable()}}var v}}(jQuery);