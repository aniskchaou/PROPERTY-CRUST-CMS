!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):e.jQuery)}(this,function(e){"use strict";function t(e){var t,o,i,r,n,s,a,p={};for(a=0,s=(n=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",").split(",")).length;a<s&&(-1===(o=n[a]).search(/^(http|https|ftp):\/\//)&&-1!==o.search(":"));a++)t=o.indexOf(":"),i=o.substring(0,t),(r=o.substring(t+1))||(r=void 0),"string"==typeof r&&(r="true"===r||"false"!==r&&r),"string"==typeof r&&(r=isNaN(r)?r:+r),p[i]=r;return null==i&&null==r?e:p}function o(o,i,s){if(this.$element=e(o),"string"==typeof i&&(i=t(i)),s?"string"==typeof s&&(s=t(s)):s={},"string"==typeof i)i=i.replace(/\.\w*$/,"");else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&(i[a]=i[a].replace(/\.\w*$/,""));this.settings=e.extend({},r,s),this.path=i;try{this.init()}catch(e){if(e.message!==n)throw e}}var i="vide",r={volume:1,playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:"50% 50%",posterType:"detect",resizing:!0,bgColor:"transparent",className:""},n="Not implemented";o.prototype.init=function(){var t,o,i=this,r=i.path,s=r,a="",p=i.$element,c=i.settings,d=function(e){var t,o,i,r=(e=""+e).split(/\s+/),n="50%",s="50%";for(i=0,t=r.length;i<t;i++)"left"===(o=r[i])?n="0%":"right"===o?n="100%":"top"===o?s="0%":"bottom"===o?s="100%":"center"===o?0===i?n="50%":s="50%":0===i?n=o:s=o;return{x:n,y:s}}(c.position),u=c.posterType;o=i.$wrapper=e("<div>").addClass(c.className).css({position:"absolute","z-index":-1,top:0,left:0,bottom:0,right:0,overflow:"hidden","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-color":c.bgColor,"background-repeat":"no-repeat","background-position":d.x+" "+d.y}),"object"==typeof r&&(r.poster?s=r.poster:r.mp4?s=r.mp4:r.webm?s=r.webm:r.ogv&&(s=r.ogv)),"detect"===u?function(t,o){var i=function(){o(this.src)};e('<img src="'+t+'.gif">').on("load",i),e('<img src="'+t+'.jpg">').on("load",i),e('<img src="'+t+'.jpeg">').on("load",i),e('<img src="'+t+'.png">').on("load",i)}(s,function(e){o.css("background-image","url("+e+")")}):"none"!==u&&o.css("background-image","url("+s+"."+u+")"),"static"===p.css("position")&&p.css("position","relative"),p.prepend(o),"object"==typeof r?(r.mp4&&(a+='<source src="'+r.mp4+'.mp4" type="video/mp4">'),r.webm&&(a+='<source src="'+r.webm+'.webm" type="video/webm">'),r.ogv&&(a+='<source src="'+r.ogv+'.ogv" type="video/ogg">'),t=i.$video=e("<video>"+a+"</video>")):t=i.$video=e('<video><source src="'+r+'.mp4" type="video/mp4"><source src="'+r+'.webm" type="video/webm"><source src="'+r+'.ogv" type="video/ogg"></video>');try{t.prop({autoplay:c.autoplay,loop:c.loop,volume:c.volume,muted:c.muted,defaultMuted:c.muted,playbackRate:c.playbackRate,defaultPlaybackRate:c.playbackRate})}catch(e){throw new Error(n)}t.css({margin:"auto",position:"absolute","z-index":-1,top:d.y,left:d.x,"-webkit-transform":"translate(-"+d.x+", -"+d.y+")","-ms-transform":"translate(-"+d.x+", -"+d.y+")","-moz-transform":"translate(-"+d.x+", -"+d.y+")",transform:"translate(-"+d.x+", -"+d.y+")",visibility:"hidden",opacity:0}).one("canplaythrough.vide",function(){i.resize()}).one("playing.vide",function(){t.css({visibility:"visible",opacity:1}),o.css("background-image","none")}),p.on("resize.vide",function(){c.resizing&&i.resize()}),o.append(t)},o.prototype.getVideoObject=function(){return this.$video[0]},o.prototype.resize=function(){if(this.$video){var e=this.$wrapper,t=this.$video,o=t[0],i=o.videoHeight,r=o.videoWidth,n=e.height(),s=e.width();s/r>n/i?t.css({width:s+2,height:"auto"}):t.css({width:"auto",height:n+2})}},o.prototype.destroy=function(){delete e[i].lookup[this.index],this.$video&&this.$video.off(i),this.$element.off(i).removeData(i),this.$wrapper.remove()},e[i]={lookup:[]},e.fn[i]=function(t,r){var n;return this.each(function(){(n=e.data(this,i))&&n.destroy(),(n=new o(this,t,r)).index=e[i].lookup.push(n)-1,e.data(this,i,n)}),this},e(document).ready(function(){var t=e(window);t.on("resize.vide",function(){for(var t,o=e[i].lookup.length,r=0;r<o;r++)(t=e[i].lookup[r])&&t.settings.resizing&&t.resize()}),t.on("unload.vide",function(){return!1}),e(document).find("[data-vide-bg]").each(function(t,o){var r=e(o),n=r.data("vide-options"),s=r.data("vide-bg");r[i](s,n)})})});