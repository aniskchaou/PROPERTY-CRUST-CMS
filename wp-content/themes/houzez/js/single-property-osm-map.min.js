jQuery(function(e){"use strict";if("undefined"!=typeof houzez_single_property_map){var o,a=houzez_vars.is_mapbox,r=houzez_vars.api_mapbox;if(e("#houzez-single-listing-map").length<=0)return;var i=15,t="",p=!1,n="marker",s="no";if("undefined"!=typeof houzez_map_options&&(houzez_map_options.closeIcon,houzez_map_options.infoWindowPlac,s=houzez_map_options.markerPricePins,houzez_map_options.map_type,n=houzez_map_options.map_pin_type,t=houzez_map_options.googlemap_stype,"circle"==n&&(p=!0),houzez_map_options.single_map_zoom>0&&(i=parseInt(houzez_map_options.single_map_zoom)),""!=t&&(t=JSON.parse(t))),houzez_single_property_map.lat&&houzez_single_property_map.lng){var m=houzez_single_property_map;if("mapbox"==a&&""!=r)var c=L.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token="+r,{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18,id:"mapbox.streets",accessToken:"your.mapbox.access.token"});else c=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'});var l=L.latLng(m.lat,m.lng),_={dragging:!0,center:l,zoom:i,tap:!1};(o=L.map("houzez-single-listing-map",_)).scrollWheelZoom.disable(),o.addLayer(c);var z={riseOnHover:!0};if(m.title&&(z.title=m.title),p){!function(e){L.circle(l,200).addTo(e)}(o)}if(!p)if("yes"==s){var h='<div data-id="'+m.property_id+'" class="gm-marker gm-marker-color-'+m.term_id+'"><div class="gm-marker-price">'+m.pricePin+"</div></div>",u=L.divIcon({className:"someclass",iconSize:new L.Point(0,0),html:h});L.marker(l,{icon:u}).addTo(o)}else{if(m.marker){var g={iconUrl:m.marker,iconSize:[44,56],iconAnchor:[20,57],popupAnchor:[1,-57]};m.retinaMarker&&(g.iconRetinaUrl=m.retinaMarker),z.icon=L.icon(g)}L.marker(l,z).addTo(o)}e('a[href="#pills-map"], a[href="#property-address"]').on("shown.bs.tab",function(){o.invalidateSize(),o.panTo(o.getCenter())})}}});