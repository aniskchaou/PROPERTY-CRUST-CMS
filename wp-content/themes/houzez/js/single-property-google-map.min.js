jQuery(function(e){"use strict";if("undefined"!=typeof houzez_single_property_map){if(e("#houzez-single-listing-map").length<=0)return;var o,a=0,t=15,i="",p=!1,n="marker",s="",l="no",r="roadmap";if("undefined"!=typeof houzez_map_options){if(houzez_map_options.closeIcon,s=houzez_map_options.infoWindowPlac,l=houzez_map_options.markerPricePins,r=houzez_map_options.map_type,n=houzez_map_options.map_pin_type,i=houzez_map_options.googlemap_stype,0==houzez_map_options.show_map)return;"circle"==n&&(p=!0),houzez_map_options.single_map_zoom>0&&(t=parseInt(houzez_map_options.single_map_zoom)),""!=i&&(i=JSON.parse(i))}var m=new google.maps.LatLng(houzez_single_property_map.lat,houzez_single_property_map.lng),g={center:m,zoom:t,disableDefaultUI:!1,scrollwheel:!1},_={position:m,pov:{heading:34,pitch:10}};switch(o=new google.maps.Map(document.getElementById("houzez-single-listing-map"),g),r){case"hybrid":g.mapTypeId=google.maps.MapTypeId.HYBRID;break;case"terrain":g.mapTypeId=google.maps.MapTypeId.TERRAIN;break;case"satellite":g.mapTypeId=google.maps.MapTypeId.SATELLITE;break;default:g.mapTypeId=google.maps.MapTypeId.ROADMAP}e(".houzezMapType").on("click",function(a){a.preventDefault();var t,i=e(this).data("maptype");"roadmap"===(t=i)?o.setMapTypeId(google.maps.MapTypeId.ROADMAP):"satellite"===t?o.setMapTypeId(google.maps.MapTypeId.SATELLITE):"hybrid"===t?o.setMapTypeId(google.maps.MapTypeId.HYBRID):"terrain"===t&&o.setMapTypeId(google.maps.MapTypeId.TERRAIN)}),document.getElementById("listing-mapzoomin")&&(I=o,google.maps.event.addDomListener(document.getElementById("listing-mapzoomin"),"click",function(){var e=parseInt(I.getZoom(),10);console.log(e),++e>20&&(e=20),I.setZoom(e)})),document.getElementById("listing-mapzoomout")&&function(e){google.maps.event.addDomListener(document.getElementById("listing-mapzoomout"),"click",function(){var o=parseInt(e.getZoom(),10);console.log(o),--o<0&&(o=0),e.setZoom(o)})}(o);if(google.maps.event.addListener(o,"tilesloaded",function(){jQuery(".houzez-map-loading").hide()}),e('a[href="#pills-street-view"]').on("shown.bs.tab",function(){(a+=1)<=1&&new google.maps.StreetViewPanorama(document.getElementById("pills-street-view"),_)}),p&&function(e){new google.maps.Circle({strokeColor:"#4f5962",strokeOpacity:.8,strokeWeight:2,fillColor:"#4f5962",fillOpacity:.35,map:e,center:m,radius:300})}(o),!p){if("yes"==l)var d='<div data-id="'+houzez_single_property_map.property_id+'" class="gm-marker gm-marker-color-'+houzez_single_property_map.term_id+'"><div class="gm-marker-price">'+houzez_single_property_map.pricePin+"</div></div>",c=new RichMarker({map:o,position:m,draggable:!1,flat:!0,anchor:RichMarkerPosition.MIDDLE,content:d});else{var z=houzez_single_property_map.marker,u=new google.maps.Size(44,56);window.devicePixelRatio>1.5&&houzez_single_property_map.retinaMarker&&(z=houzez_single_property_map.retinaMarker,u=new google.maps.Size(44,56));var y={url:z,size:u,scaledSize:new google.maps.Size(44,56)};c=new google.maps.Marker({position:m,map:o,icon:y,animation:google.maps.Animation.DROP})}var h=document.createElement("div");h.className="map-info-window";var f="";f+='<div class="item-wrap">',f+='<div class="item-header">',houzez_single_property_map.thumbnail?f+='<a class="hover-effect"><img class="img-fluid listing-thumbnail" src="'+s+'" data-src="'+houzez_single_property_map.thumbnail+'" alt="'+houzez_single_property_map.title+'"/></a>':f+='<a class="hover-effect"><img class="img-fluid listing-thumbnail" src="'+s+'" alt="'+houzez_single_property_map.title+'"/></a>',f+="</div>",f+='<div class="item-body flex-grow-1">',f+='<h2 class="item-title">',f+="<a>"+houzez_single_property_map.title+"</a>",f+="</h2>",f+='<ul class="list-unstyled item-info">',houzez_single_property_map.price&&(f+='<li class="item-price">'+houzez_single_property_map.price+"</li>"),houzez_single_property_map.property_type&&(f+='<li class="item-type">'+houzez_single_property_map.property_type+"</li>"),f+="</ul>",f+="</div>",f+="</div>",h.innerHTML=f;var v=new google.maps.InfoWindow({content:h});!function(e,o,a){google.maps.event.addListener(o,"click",function(){a.open(e,o);var t=a.getContent().getElementsByClassName("listing-thumbnail");t.length&&t[0].dataset.src&&(t[0].src=t[0].dataset.src)})}(o,c,v)}}var I});